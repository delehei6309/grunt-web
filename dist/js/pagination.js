/*!grunt_test-1.0.0.js 18-02-08*/

"use strict";var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var l=t[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,i,l){return i&&e(t.prototype,i),l&&e(t,l),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var pagination=function(){function e(t){var i=t.el,l=t.totalRows,o=t.pageSize,s=t.pageNo,a=t.prevText,n=t.nextText,r=t.viewCount,x=t.align,f=t.pageChange;_classCallCheck(this,e),this.el=i,this.totalRows=l||0,this.pageSize=o||10,this.pageNo=s||1,this.viewCount=r||5,this.querySelect=document.querySelector(i),this.prevText=a||"«",this.nextText=n||"»",this.pageChange=f||null,this.align=x||null,this.pageLength=Math.ceil(this.totalRows/this.pageSize),this.start(),this.creatStyle()}return _createClass(e,[{key:"start",value:function(){this.pageNo>this.pageLength&&(this.pageNo=this.pageLength),this.dealPageNo()}},{key:"creatStyle",value:function(){var e=document.createElement("style");e.innerHTML='[flex]{display:-webkit-box;display:-ms-flexbox;display:flex}[flex]>*{display:block}[flex]>[flex]{display:-webkit-box;display:-ms-flexbox;display:flex}[flex~="dir:left"]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}[flex~="dir:right"]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:end}[flex~="dir:top"]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}[flex~="dir:bottom"]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-box-pack:end}[flex~="main:left"]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}[flex~="main:right"]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}[flex~="main:justify"]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}[flex~="main:center"]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[flex~="cross:top"]{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}[flex~="cross:bottom"]{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}[flex~="cross:center"]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}[flex~="cross:baseline"]{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}[flex~="cross:stretch"]{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}[flex~="box:first"]>*,[flex~="box:justify"]>*,[flex~="box:last"]>*,[flex~="box:mean"]>*{width:0;height:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}[flex~="box:first"]>:first-child,[flex~="box:justify"]>:first-child,[flex~="box:justify"]>:last-child,[flex~="box:last"]>:last-child{width:auto;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}[flex~="dir:bottom"][flex~="box:first"]>*,[flex~="dir:bottom"][flex~="box:justify"]>*,[flex~="dir:bottom"][flex~="box:last"]>*,[flex~="dir:bottom"][flex~="box:mean"]>*,[flex~="dir:top"][flex~="box:first"]>*,[flex~="dir:top"][flex~="box:justify"]>*,[flex~="dir:top"][flex~="box:last"]>*,[flex~="dir:top"][flex~="box:mean"]>*{width:auto;height:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}[flex~="dir:bottom"][flex~="box:first"]>:first-child,[flex~="dir:bottom"][flex~="box:justify"]>:first-child [flex~="dir:bottom"][flex~="box:justify"]>:last-child,[flex~="dir:bottom"][flex~="box:last"]>:last-child,[flex~="dir:top"][flex~="box:first"]>:first-child,[flex~="dir:top"][flex~="box:justify"]>:first-child,[flex~="dir:top"][flex~="box:justify"]>:last-child,[flex~="dir:top"][flex~="box:last"]>:last-child{height:auto;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}[flex-box="0"]{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}[flex-box="1"]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}[flex-box="2"]{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2;-ms-flex-negative:2;flex-shrink:2}[flex-box="3"]{-webkit-box-flex:3;-ms-flex-positive:3;flex-grow:3;-ms-flex-negative:3;flex-shrink:3}[flex-box="4"]{-webkit-box-flex:4;-ms-flex-positive:4;flex-grow:4;-ms-flex-negative:4;flex-shrink:4}[flex-box="5"]{-webkit-box-flex:5;-ms-flex-positive:5;flex-grow:5;-ms-flex-negative:5;flex-shrink:5}[flex-box="6"]{-webkit-box-flex:6;-ms-flex-positive:6;flex-grow:6;-ms-flex-negative:6;flex-shrink:6}[flex-box="7"]{-webkit-box-flex:7;-ms-flex-positive:7;flex-grow:7;-ms-flex-negative:7;flex-shrink:7}[flex-box="8"]{-webkit-box-flex:8;-ms-flex-positive:8;flex-grow:8;-ms-flex-negative:8;flex-shrink:8}[flex-box="9"]{-webkit-box-flex:9;-ms-flex-positive:9;flex-grow:9;-ms-flex-negative:9;flex-shrink:9}[flex-box="10"]{-webkit-box-flex:10;-ms-flex-positive:10;flex-grow:10;-ms-flex-negative:10;flex-shrink:10}#pagination .page a,#pagination .page span{display:inline-block;padding:8px 12px;padding:.5rem .75rem;line-height:1.25;border:1px solid #dee2e6;cursor:pointer;color:#007bff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#pagination .page a:not(.page-item-active):hover,#pagination .page span:not(.page-item-active):hover{background-color:#dee2e6}#pagination .page .page-item-active{color:#fff;background-color:#007bff;border-color:#007bff;cursor:default}',document.querySelector("head").appendChild(e)}},{key:"dealPageNo",value:function(){this.pageNoArray=[];var e=parseInt(this.viewCount/2),t=this.pageNo;if(this.pageLength<=this.viewCount){t=1;for(var i=0;i<this.pageLength;i++)this.pageNoArray.push(t++)}if(this.pageLength-this.viewCount==1)if(this.pageNo>=Math.ceil(this.viewCount/2)){t=2;for(var l=0;l<this.viewCount;l++)0===l?this.pageNoArray.push("…"):this.pageNoArray.push(t),t++}else{t=1;for(var o=0;o<this.viewCount;o++)o===this.viewCount-1?this.pageNoArray.push("…"):this.pageNoArray.push(t),t++}if(this.pageLength-this.viewCount>=2)if(this.pageNo<=Math.ceil(this.viewCount/2)){t=1;for(var s=0;s<this.viewCount;s++)s===this.viewCount-1?this.pageNoArray.push("…"):this.pageNoArray.push(t),t++}else if(this.pageNo>this.pageLength-Math.ceil(this.viewCount/2)){t=this.pageLength-(this.viewCount-1);for(var a=0;a<this.viewCount;a++)0===a?this.pageNoArray.push("…"):this.pageNoArray.push(t),t++}else{t-=e;for(var n=0;n<this.viewCount;n++)0===n||n===this.viewCount-1?this.pageNoArray.push("…"):this.pageNoArray.push(t),t++}this.creatDom()}},{key:"creatDom",value:function(){var e=this,t=document.createElement("div");this.align&&this.querySelect.setAttribute("flex","main:"+this.align),t.setAttribute("class","page");var i=document.createElement("span");i.setAttribute("class","btn-prev page-item"),i.innerText=this.prevText,t.appendChild(i);var l=null;this.pageNoArray.map(function(i){l=document.createElement("a"),e.pageNo.toString()===i.toString()?l.setAttribute("class","page-item page-item-active"):l.setAttribute("class","page-item"),l.innerText=i,t.appendChild(l)});var o=document.createElement("span");o.setAttribute("class","btn-next page-item"),o.innerText=this.nextText,t.appendChild(o),this.querySelect.innerHTML="",this.querySelect.appendChild(t);var s=this;this.querySelect.querySelectorAll(".page-item").forEach(function(e){e.onclick=function(){this.className.indexOf("prev")>-1?s.prevClick():this.className.indexOf("next")>-1?s.nextClick():s.btnClick(this.innerText)}}),this.callBack()}},{key:"btnClick",value:function(e){if("…"===e||this.pageNo.toString()===e.toString())return!1;this.pageNo=e,this.dealPageNo()}},{key:"prevClick",value:function(){this.pageNo>1&&(this.pageNo--,this.dealPageNo())}},{key:"nextClick",value:function(){this.pageNo<this.pageLength&&(this.pageNo++,this.dealPageNo())}},{key:"callBack",value:function(){this.pageChange&&this.pageChange(Number(this.pageNo))}},{key:"update",value:function(e){var t=e.pageNo;this.pageNo=t,this.start()}}]),e}();